<h1 mat-dialog-title>パスワード変更</h1>

<mat-divider></mat-divider>

<mat-dialog-content>

  <div fxLayout="column">

    <mat-form-field>

      <input matInput placeholder="現在のパスワード" [formControl]="currentPasswordFormControl" required>

      <mat-error *ngIf="currentPasswordFormControl.hasError('required')">

        {{hissuCurrentPassMessage}}

      </mat-error>

    </mat-form-field>

    <form [formGroup]="myForm">

      <div fxLayout="column">
        <mat-form-field>

          <input matInput placeholder="新パスワード" type="password" [formControl]="myForm.controls['newPassword']" required>

          <mat-error *ngIf="myForm.controls['newPassword'].hasError('minlength') && !myForm.controls['newPassword'].hasError('required')">
            {{minlengthMessage}}
          </mat-error>

          <mat-error *ngIf="myForm.controls['newPassword'].hasError('isAlphaNumeric') && !myForm.controls['newPassword'].hasError('minlength') && !myForm.controls['newPassword'].hasError('required')">
            {{alphabetMessage}}
          </mat-error>

          <mat-error *ngIf="myForm.controls['newPassword'].hasError('isLowerCase') && !myForm.controls['newPassword'].hasError('minlength') && !myForm.controls['newPassword'].hasError('required')">
            {{lowcaseMessage}}
          </mat-error>

          <mat-error *ngIf="myForm.controls['newPassword'].hasError('isUpperCase') && !myForm.controls['newPassword'].hasError('minlength') && !myForm.controls['newPassword'].hasError('required')">
            {{uppercaseMessage}}
          </mat-error>

          <mat-error *ngIf="myForm.controls['newPassword'].hasError('isDigit') && !myForm.controls['newPassword'].hasError('minlength') && !myForm.controls['newPassword'].hasError('required')">
            {{digitMessage}}
          </mat-error>

          <mat-error *ngIf="myForm.controls['newPassword'].hasError('isSymbol') && !myForm.controls['newPassword'].hasError('minlength') && !myForm.controls['newPassword'].hasError('required')">
            {{symbolMessage}}
          </mat-error>

          <mat-error *ngIf="myForm.controls['newPassword'].hasError('required')">
            {{hissuNewPassMessage}}
          </mat-error>


        </mat-form-field>

        <mat-form-field>

          <input matInput placeholder="パスワードの確認" type="password" [formControl]="myForm.controls['confirmPassword']">

        </mat-form-field>
      </div>

    </form>

  </div>

  <div *ngIf="isInput" class="alert alert-danger">{{hissuMessage}}</div>

  <div *ngIf="isCurrentPass" class="alert alert-danger">{{currentPassMessage}}</div>

  <div *ngIf="isConfirmPass" class="alert alert-danger">{{confirmPassMessage}}</div>


</mat-dialog-content>

<mat-dialog-actions>

  <button mat-raised-button color="primary" mat-dialog-close>キャンセル</button>

  <button mat-raised-button color="primary" (click)="onChange()">変更</button>

</mat-dialog-actions>
